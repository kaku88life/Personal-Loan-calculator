# 貸款計算機 Chrome 擴充套件

一款多語言、多幣別的貸款計算工具，支援房貸、車貸、信貸計算，提供視覺化圖表與匯出功能。

## 功能特色

- **多語言支援**：中文、英文、日文
- **多幣別支援**：台幣(TWD)、日幣(JPY)、美金(USD)
- **三種主題模式**：淺色、深色、夜間
- **貸款類型**：房貸、車貸、信貸、其他
- **還款方式**：本息平均攤還、本金平均攤還
- **寬限期功能**：支援設定寬限期（只繳利息不還本金）
- **額外費用**：可動態新增費用項目
- **視覺化圖表**：還款趨勢圖、本金利息累計圖
- **匯出功能**：CSV、Excel、PDF
- **分享功能**：一鍵分享計算結果

---

## 安裝步驟

### 步驟 1：生成圖示

1. 用瀏覽器開啟 `extension/icons/generate-icons.html`
2. 右鍵點擊每個圖示，選擇「另存圖片」
3. 將三個圖示存到 `extension/icons/` 資料夾：
   - `icon16.png`
   - `icon48.png`
   - `icon128.png`

### 步驟 2：載入擴充套件

1. 開啟 Chrome 瀏覽器
2. 在網址列輸入 `chrome://extensions/` 並按 Enter
3. 開啟右上角的「開發人員模式」
4. 點擊「載入未封裝項目」
5. 選擇 `extension` 資料夾

### 步驟 3：開始使用

點擊 Chrome 工具列上的擴充套件圖示即可開始使用貸款計算機！

---

## 檔案結構

```
extension/
├── manifest.json          # 擴充套件設定檔
├── popup.html             # 主頁面
├── styles.css             # 樣式
├── i18n.js                # 國際化系統
├── calculator.js          # 計算邏輯
├── app.js                 # 應用程式主控制器
├── icons/
│   ├── icon.svg           # SVG 圖示原檔
│   ├── icon16.png         # 16x16 圖示
│   ├── icon48.png         # 48x48 圖示
│   ├── icon128.png        # 128x128 圖示
│   └── generate-icons.html # 圖示生成工具
├── libs/
│   ├── chart.min.js       # Chart.js 圖表函式庫
│   ├── jspdf.min.js       # PDF 匯出函式庫
│   ├── jspdf.plugin.autotable.min.js  # PDF 表格外掛
│   └── xlsx.min.js        # Excel 匯出函式庫
└── README.md              # 本說明文件
```

---

## 使用說明

### 基本操作

1. **選擇貸款類型**：房貸預設30年80%成數、信貸/車貸預設5年100%成數
2. **輸入貸款金額**：支援千分位自動格式化
3. **調整參數**：貸款成數、年限、利率
4. **設定寬限期**（選擇性）：開啟開關後可設定寬限期
5. **新增額外費用**（選擇性）：如手續費、代書費等
6. **點擊「計算」**：查看計算結果

### 切換設定

- **主題**：點擊 🌤️/🌙/🌃 按鈕循環切換（位於「貸款資訊」右上角）
- **語言/幣別**：點擊 ⚙️ 按鈕開啟設定選單

### 匯出結果

點擊 📤 按鈕可選擇：
- 📄 CSV 檔案
- 📊 Excel 檔案
- 📑 PDF 檔案
- 🔗 分享連結

### 查看詳細

- **+/- 展開**：點擊「查看詳細」可展開/收合總還款金額與總利息
- **🔍 放大鏡**：查看圖表特定期數的詳細資訊
- **⛶ 全螢幕**：將圖表或表格放大至全螢幕檢視

---

## 技術規格

- **Manifest Version**: 3
- **支援瀏覽器**: Chrome 88+
- **使用的函式庫**:
  - Chart.js 4.4.1
  - jsPDF 2.5.1
  - jsPDF-AutoTable 3.5.31
  - SheetJS 0.18.5

---

## 權限說明

- `storage`: 用於儲存使用者偏好設定（語言、主題、幣別）

---

## 常見問題

### Q: 為什麼看不到圖示？
A: 請先執行「步驟 1：生成圖示」，確保 icons 資料夾中有 PNG 圖示檔案。

### Q: 計算結果與銀行報價不同？
A: 本計算機使用標準公式計算，僅供參考。實際貸款條件請以銀行核准為準。

### Q: PDF 中文字體顯示不正確？
A: 擴充套件版本使用預設字體，如需完整中文支援，建議使用 CSV 或 Excel 匯出。

---

## 版本紀錄

### v1.1.0 (2026-01-06)

**UI 優化**
- 調整彈窗尺寸為 300px x 400px
- 字體大小調整為 10px
- 移除標題欄「貸款計算機」
- 移除「開啟新分頁」按鈕
- 主題切換、設定按鈕移至「貸款資訊」右上角

**功能調整**
- 移除「總成本（含費用）」欄位
- 「總還款金額」與「總利息」改為可收合顯示（+/- 切換）
- 「每月還款金額（首期/末期）」簡化為「每月還款金額」

**新增功能**
- 圖表與表格新增全螢幕按鈕 ⛶
- 支援還款金額趨勢圖、本金利息累計圖、還款明細表全螢幕檢視

### v1.0.0 (2026-01-03)

- 初始版本
- 多語言支援（中文/英文/日文）
- 多幣別支援（台幣/日幣/美金）
- 三種主題模式
- 貸款計算與視覺化圖表
- 匯出功能（CSV/Excel/PDF）

---

## 版權聲明

© 2026 貸款計算機 | Loan Calculator | ローン計算機
